{% extends "groupbuilds/base.html" %}
{% load i18n brouwers l10n %}


{# {% block page-title %}<h1 class="pull-left page-title">{% trans "Group builds dashboard" %}</h1>{% endblock %} #}


{% block content %}
<header class="container-fluid eye-catcher">
    <div class="container">

        <h1>{% trans "Group builds - some information" %}</h1>

        <p>{% blocktrans %}A group build is basically a themed build with a set start
            and end date. Builders who share interests for a certain theme can poll other
            forum members if they are interested to take part in a group build. Group builds
            usually result in tight groups of builders around a narrow field, providing
            valuable theme-specific reference documentation and small facts.
        {% endblocktrans %}</p>

        <p>{% blocktrans %}'Ok, sounds cool and all' I hear you think. But what if you have your
            own idea? Just click the button below to submit your idea! We provide the
            platform and forum-integration to get your idea going!
        {% endblocktrans %}</p>

        <div class="text-center">
            <a href="{% url 'groupbuilds:create' %}" class="btn bg-main-orange">{% trans "New concept/idea" %}</a>
        </div>
    </div>
</header>

<div class="container list">

    <div class="row">
        <div class="col-md-6">
            <div class="well">
                <h2><i class="fa fa-newspaper-o"></i> {% trans "New concepts" %}</h2>
                <div class="list-group">
                    {% for gb in new_concepts %}
                        <a href="{{ gb.get_absolute_url }}" class="list-group-item">
                            <strong>{{ gb.theme }}</strong>
                            <span class="badge">{{ gb.n_participants }}</span>
                        </a>
                    {% empty %}
                        {% url 'groupbuilds:create' as url_gb_concept %}
                        {% blocktrans %}
                            Nobody seems to have a clue! Maybe you can
                            <a href="{{ url_gb_concept }}">submit your own idea?</a>
                        {% endblocktrans %}
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="well">
                <h2>{% trans "Starting soon" %}</h2>
                <div class="list-group">
                    {% for gb in starting_soon %}
                        <a href="{{ gb.get_absolute_url }}" class="list-group-item">
                            {{ gb.start|date }} &bull; <strong>{{ gb.theme }}</strong>
                            <span class="badge">{{ gb.n_participants }}</span>
                        </a>
                    {% empty %}
                    {% blocktrans %}
                        Nothing starting in the next six weeks. Maybe there's something further
                        down the road in the <a href="#calendar">calendar</a>?
                    {% endblocktrans %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <div id="calendar">
        <section class="calendar">
            <h2>{% trans "Calendar" %} <i class="fa fa-calendar pull-right"></i></h2>

            <div class="row month-names">
                {% for date in dates %}
                    <div class="month-name col-xs-2 text-center">{{ date|date:"F"|capfirst }}</div>
                {% endfor %}
            </div>

            {% for gb in calendar_gbs %}
            <div class="row gb-wrapper {% if forloop.last %}last{% endif %}">
                <div class="today-marker" style="left: {{ offset_today|unlocalize }}%;">&nbsp;</div>
                <div class="col-md-12 calendar-gb soft {% cycle 'bg-main-green' 'bg-main-red' 'bg-main-pink' 'bg-main-grey' 'bg-main-orange' %}"
                    style="width: {{ gb.calendar_dimensions.width|unlocalize }}%; margin-left: {{ gb.calendar_dimensions.offset|unlocalize }}%;"
                    title="Start: {{ gb.start }}, End: {{ gb.end }}">
                    <a href="{{ gb.get_absolute_url }}" title="{{ gb.theme }}, {{ gb.start|date }} - {{ gb.end|date }}">
                        {{ gb.theme }} <span class="end">{{ gb.end|date:"d/m" }}</span>
                    </a>
                </div>
            </div>
            {% endfor %}
        </section>
    </div>



</div>
{% endblock content %}
