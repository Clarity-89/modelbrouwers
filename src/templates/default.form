{% load sniplates i18n %}

{% block _label %}
{% if label %}<label id="{{ id_for_label }}" for="{{ id }}">{{ label }}</label>{% endif %}
{% endblock %}

How to render help_text
{% block _help %}
{% if help_text %}
<span class="input-group-addon">
<span class="help glyphicon glyphicon-question-sign" data-trigger="hover focus click"
    data-toggle="popover" data-content="{{ help_text }}"></span>
</span>
{% endif %}
{% endblock %}

How to render errors
{% block _errors %}
{% if errors %}
<ul class="errorlist">
{% for error in errors %}
    <li class="error">{{ error }}</li>
{% endfor %}
</ul>
{% endif %}
{% endblock %}

{% block non_field_errors %}{% if form.non_field_errors %}
<div class="panel panel-danger">
    <div class="panel-heading">{% trans "The form contains errors" %}</div>

    <ul class="list-group">
        {% for error in form.non_field_errors %}<li class="list-group-item error">{{ error }}</li>{% endfor %}
    </ul>
</div>
{% endif %}{% endblock %}

{% block input %}
{% reuse "_label" %}
{% with field_type=field_type|default:"text" %}
<input type="{{ field_type }}"
    name="{{ html_name }}"
    id="{{ id }}"
    value="{{ value|default:"" }}"
    class="{{ css_classes }} {{ errors|yesno:"error," }}"
    {{ widget.attrs|flatattrs }}
    {{ required|yesno:"required," }}
    {{ autofocus|yesno:"autofocus," }}
    {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
>
{% endwith %}
{% reuse "_help" %}
{% reuse "_errors" %}
{% endblock %}

{% block TextInput %}{% reuse "input" %}{% endblock %}
{% block EmailInput %}{% reuse "input" field_type="email" %}{% endblock %}
{% block NumberInput %}{% reuse "input" field_type="number" %}{% endblock %}
{% block URLInput %}{% reuse "input" field_type="url" %}{% endblock %}
{% block PasswordInput %}{% reuse "input" field_type="password" value="" %}{% endblock %}
{% block HiddenInput %}{% reuse "input" field_type="hidden" label="" %}{% endblock %}
{% block FileInput %}{% reuse "input" field_type="file" value="" %}{% endblock %}
{% block DateInput %}{% reuse "input" field_type="date" value=value|date:'Y-m-d' %}{% endblock %}
{% block DateTimeInput %}{% reuse "input" field_type="datetime" value=value|date:'Y-m-d H:i:s' %}{% endblock %}
{% block TimeInput %}{% reuse "input" field_type="time" value=value|date:'H:i:s' %}{% endblock %}

TODO:

{% block ClearableFileInput %}{% endblock %}
{% block SplitDateTimeWidget %}{% endblock %}
{% block SplitHiddenDateTimeWidget %}{% endblock %}

Fields not derived from InputField:

{% block MultipleHiddenInput %}
{% for value in value %}
<input type="hidden" name="{{ name }}" id="{{ id }}_{{ forloop.counter0 }}" value="{{ value|default:'' }}" {{ widget.attrs|flatattrs }} {{ required|yesno:"required," }}>
{% endfor %}
{% endblock %}

{% block Textarea %}
{% reuse "_label" %}
<textarea name="{{ html_name }}" id="{{ id }}"
    class="{{ css_classes }} {{ errors|yesno:"error," }}"
    {{ required|yesno:"required," }}
    {{ autofocus|yesno:"autofocus," }}
    {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
    {{ widget.attrs|flatattrs }}
>{{ value|default:'' }}</textarea>
{% reuse "_help" %}
{% reuse "_errors" %}
{% endblock %}

{% block Select %}
{% reuse "_label" %}
<select name="{{ html_name }}" id="{{ id }}" {{ widget.attrs|flatattrs }}>
{% for val, display in choices %}
    <option value="{{ val }}" {% if val == value|default:None %}selected{% endif %}>{{ display }}</option>
{% endfor %}
</select>
{% reuse "_help" %}
{% reuse "_errors" %}
{% endblock %}

{% block SelectMultiple %}
{% reuse "_label" %}
<select name="{{ html_name }}" id="{{ id }}" {{ widget.attrs|flatattrs }} multiple>
{% for val, display in choices %}
    <option value="{{ val }}" {% if val in value %}selected{% endif %}>{{ display }}</option>
{% endfor %}
</select>
{% reuse "_help" %}
{% endblock %}
{% block NullBooleanSelect %}{% reuse "Select" %}{% endblock %}

Checkbox is a special case and needs its own template.
{% block CheckboxInput %}
<label for="{{ form_field.id_for_label }}" class="{{ css_classes }}">
    <input name="{{ html_name }}" id="{{ id }}" type="checkbox" {{ form_field.value|yesno:'checked,' }}>
    {{ form_field.label }}
</label>
{% reuse '_help' %}
{% reuse '_errors' %}
{% endblock %}

{% block RadioSelect %}
{% reuse "_label" %}
<ul id="{{ id }}">
{% for val, display in choices %}
    <li><input type="radio" id="{{ id}}_{{ forloop.counter0 }}" value="{{ val }}" {% if val == value|default:"" %}checked{% endif %}>{{ display }}</li>
{% endfor %}
</ul>
{% reuse "_help" %}
{% reuse "_errors" %}
{% endblock %}

{% block CheckboxSelectMultiple %}
{% reuse "_label" %}
<ul id="{{ id }}">
{% for val, display in choices %}
    <li><input type="checkbox" id="{{ id}}_{{ forloop.counter0 }}" value="{{ val }}" {% if val in value %}checked{% endif %}>{{ display }}</li>
{% endfor %}
</ul>
{% reuse "_help" %}
{% reuse "_errors" %}
{% endblock %}
